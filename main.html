<!DOCTYPE html>
<html>

<title>
    Genetic Drift Visualisation Tool
</title>

<!-- CSS and JS Libraries (Start) -->
<head>
    <link rel="stylesheet" type="text/css" href="css/toolStyle.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {packages: ['corechart', 'bar']});
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.8.1/math.min.js"></script>

    <script src="scripts/main.js"></script>
</head>
<!-- CSS and JS Libraries (End) -->

<body>

<!-- Top Matter HTML (Start) -->
<div class="main" id="header">
    Genetic Drift Visualisation Tool
</div>

<ul class="toolbar">
    <li class="tab-link current" data-tab="jsBody_Output">Output</li>
    <li class="tab-link" data-tab="jsBody_Parameters">Parameters</li>
    <li class="tab-link" data-tab="jsBody_About">About</li>
</ul>
<!-- Top Matter HTML (End) -->

<!-- Output Tab HTML (Start) -->
<div class="main toolbar-content current" id="jsBody_Output">
    <div class="jsBody_Child" id="subheading">
        Generation: <span id="displayCurrentGen"></span>
    </div>
    <div class="jsBody_Child" id="subtoolbar">
        Simulate next <i>n</i> generations: <br>
        <button id="sim_1">
            n = 1 
        </button> 
        <button id="sim_10">
            n = 10
        </button>
        <button id="sim_X">
            n =
        </button>
        <input id="sim_input" type="number" min="0" max="1000" value=100>
    </div>
    
    <div class="jsBody_Child" id="simulation_hold">
        <div id="simulation_lTable">
            <div id="alleleFreq">
                
            </div>
            <div id="fst">
                
            </div>
        </div>

        <div id="simulation_rTable">
            <div>
                <span id = "simulation_subtitle">
                    Plots
                </span>
                <ul class="tab">
                    <li>
                        <a href="javascript:void(0)" id="alleleFreq_Show">
                            Allele Frequency
                        </a>
                    </li>
                    <li>
                        <a href="javascript:void(0)" id="fst_Show">
                            FST
                        </a>
                    </li>
                </ul>
            </div>
        </div>

    </div>
</div>
<!-- Output Tab HTML (End) -->

<!-- Parameters Tab HTML (Start) -->
<div class="main toolbar-content" id="jsBody_Parameters">
    <div id="jsBody_Container">
        <ul class="paraMag" id="paraMag_L">
            <li>
                Number of Populations: <input id="paraMag_numOfPop" type="number" min=1 max=10> <br>
                <span class="paraMag_Info">
                    Sets the number of populations to observe in the simulation routine. <br> Takes a value between 1 and 10 (inclusive).
                </span>
            </li>
            <li>
                Population Size: <input id="paraMag_popSize" type="number" min=50 max=500> <br>
                <span class="paraMag_Info">
                    Sets a population's <b>fixed</b> size in the simulation routine. Takes a value between 50 and 500 (inclusive).
                </span>
            </li>
            <li>
                Number of Allele Types: <input id="paraMag_numOfAlleles" type="number" min=2 max=8> <br>
                <span class="paraMag_Info">
                    Sets the <b>initial</b> number of allele types in a population. Takes a value between 2 and 8 (inclusive).
                </span>
            </li>
            <li>
                Mutation Rate: <input id="paraMag_mutaRate" type="number" min=0 max=1000> <br>
                <span class="paraMag_space"></span><input class="paraMag_slider" id="paraMag_mutaRateChild" type="range" min=0 max=1000 step=1> <br>
                <span class="paraMag_Info">
                    Sets the denominator of an allele's mutation rate. Currently an allele has a 1 in <span id="paraMag_mutaRateChildToo"></span> chance to mutate. Takes a value between 1 and 1000 (inclusive).
                </span>
            </li>
            <li>
                Number of Migrants: <input id="paraMag_numOfMigrants" type="number" min=0 max=499> <br>
                <span class="paraMag_Info">
                    Sets the number of members who migrate each generation. Takes a value between 0 and <span id="paraMag_numOfMigrantsChild"></span> (inclusive).
                </span>
            </li>
            <li>
                Initial Number of Simulations: <input id="paraMag_init" type="number" min=1 max=1000> <br>
                <span class="paraMag_Info">
                    Sets the number of simulations to conduct before the user can interact with the <b>Output</b> page. Takes a value between 1 and 1000 (inclusive).
                </span>
            </li>
            <li>
                Refresh Rate: <input id="paraMag_rfrshRate" type="number" min=0 max=5> <br>
                <span class="paraMag_space"></span><input id="paraMag_rfrshRateChild" type="range" min=0 max=5 step=0.01> <br>
                <span class="paraMag_Info">
                    hi.
                </span>
            </li>
        </ul>

        <ul class="paraMag" id="paraMag_R">
            <li>
                <button id="paraMag_Submit">Submit Parameters</button> <br>
                <span class="paraMag_Info">
                    hi
                </span>
            </li>
            <li>
                <input type="checkbox">Show detailed information
            </li>
        </ul>
    </div>
</div>
<!-- Parameters Tab HTML (Start) -->

<!-- About Tab HTML (Start) -->
<div class="main toolbar-content" id="jsBody_About">

</div>

<!-- About Tab HTML (End) -->

<!-- Bottom Matter HTML (Start) -->
<div class="main" id="copyright">
    Genetic Drift Visualisation Tool ver 0.2.0 <br>
    &copy 2016-2017 David Chan
</div>
<!-- Bottom Matter HTML (End) -->

<!-- Initialisation JS Functionality (Start) -->
<script src="scripts/options.js"></script>
<script src="scripts/simulation.js"></script>
<script src="scripts/statCalc.js"></script>

<script>
    var settings = {
            popSize: 500,
            numOfPop: 10,
            numOfAlleles: 8,
            init: 1,
            simInput: 100,
            migration: 10,
            mutationRate: 300,
            debug: false
        },
        processFlag = false,
        alleles = new alleleMaster(),
        rng = new pseudoRandom(),
        allSpecies = [],
        statsMaster = {
            FST: []
        };
    
    math.config({
        number: 'Fraction'
    });

    options_Load();
</script>
<!-- Initialisation JS Functionality (End) -->

</body>
</html>